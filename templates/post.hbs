{{#*inline "header-block"}}
<link rel="stylesheet"
    href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/vs.min.css">
<style>
    code {
        font-family: Consolas, Menlo, Monaco, Consolas, "Courier New", monospace;
        padding: 2px 4px;
        text-shadow: none;
        word-wrap: break-word;
        white-space: pre;
    }

    :not(pre)>code {
        background-color: #f5f5f5;
        color: #e96900;
        transition: all .6s;
    }

    #article-body{
        padding: 0 10px;
        margin-bottom: 40px;
    }

    #article-body :not(code){
        letter-spacing: .6px;
    }

    #article-body p {
        text-indent: 2em;
        font-size: .95rem;
    }

    #article-body h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 10px 0;
    }

    #article-body h1{
        font-size: 1.5rem;
    }

    #article-body h2{
        font-size: 1.4rem;
    }

    #article-body h3{
        font-size: 1.3rem;
    }

    #article-body h4{
        font-size: 1.2rem;
    }

    #article-body h5{
        font-size: 1.1rem;
    }

    #article-body h6{
        font-size: 1.05rem;
    }

    #article-body p{
        color: #504a4b;
        font-size: 1rem;
        line-height: 1.8em;
        margin: 12px 0!important;
    }

    #article-body img {
        display: block;
        padding: .25rem;
        background-color: #fff;
        {{!-- border: 1px solid #dee2e6; --}}
        border-radius: .25rem;
        max-width: 100%;
        height: auto;
    }

    .article-title {
        font-size: 1.6rem;
        font-weight: normal;
    }

    .article-publish-info {
        font-size: .75rem;
    }

    .article-header-hr {
        margin-bottom: 5px;
    }

    .copyright-item {
        font-size: .8rem;
        line-height: .8rem;
        padding: 0 10px;
        line-height: 1.8em;
    }

    #article-body a {
        color: darkcyan;
    }

    .copyright-item a{
        color:darkcyan;
    }

    .hljs {
        padding: 10px 20px;
        border: 1px solid #d3d6db;
        background-color: #fafafa;
    }

    #toggle-left-side {
        display: inline-block;
        width: 30px;
        height: 25px;
        line-height: 25px;
        text-align: center;
        cursor: pointer;
        vertical-align: baseline;
        color: #5FB878;
        position: relative;
        border: 1px dotted #5FB878;
        border-radius: 2px;
    }

    #toggle-left-side:hover{
        color:darkcyan;
        border-color: darkcyan;
    }

    blockquote {
        margin: 10px 0;
        padding: 1.5rem;
        border-left: 5px solid #dbdbdb;
        color: #6b778d;
        word-break: break-all;
        background: #f5f8fa;
        border-radius: 2px;
    }

    .like-area div{
        text-align: center;
    }

    #post-likes{
        line-height: 1.7rem;
        font-size: 1.1rem;
        vertical-align: middle;
    }

    #like-btn{
        vertical-align: middle;
        cursor: pointer;
    }
</style>
{{/inline}}

{{#*inline "content"}}
<article>
    <header>
        <h1 class="article-title"><i id="toggle-left-side" class="layui-hide-xs layui-hide-sm layui-show-md-inline-block layui-show-lg-inline-block layui-icon layui-icon-prev"></i> {{ post.title }}</h1>
        <hr class="d-none d-md-block article-header-hr">
        <div class="d-block d-sm-none">
            <div class="article-publish-info article-publish-info-mobile bg-light">
                <time>Published on {{ post.create_time }}</time>
            </div>
        </div>
        <div class="d-none d-sm-block article-publish-info mb-2">
            <strong class="text-muted">
                <time>Published on {{ post.create_time }}</time>
            </strong>
            <span class="badge badge-secondary float-right post-hit-number d-none d-md-block">{{ post.reads }} Reads</span>
        </div>
        <div class="hidden-print">
            <section class="article-cat-tag-info">
                <a href="#" class="badge badge-primary">{{ post.category.display_text }}</a>
                <div class="float-right d-none d-md-block">
                    {{!-- <span class="toptags-list toptags-list-sm">
                        <a href="/tags/list/azure">Azure</a>
                        <a href="/tags/list/dotnet-core">.NET Core</a>
                        <a href="/tags/list/cdn">CDN</a>
                    </span> --}}
                </div>
            </section>
        </div>
        <hr class="article-header-hr">
    </header>
    
    <div id="article-body">{{{ post.html_content }}}</div>
    <div class="like-area">
        <div>
            <svg id="like-btn" class="icon-symbol" aria-hidden="true" style="width:1.7rem;height:1.7rem;">
                <use xlink:href="#icon-like"></use>
            </svg>
            <span id="post-likes">{{ post.likes }}</span>
        </div>
        <div>觉得有帮助的话，点个赞吧</div>
    </div>
    <hr>
    <section class="article-copyright">
        <p class="copyright-item">
            <span>Author:</span>
            <span>Yonghua</span>
        </p>
        <p class="copyright-item">
            <span>License:</span>
            <span>本文采用 知识共享<a target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
                    署名-非商业性使用-禁止演绎4.0(CC BY-NC-ND 4.0)国际</a>许可协议 进行许可</span>
        </p>
    </section>
    <hr>
    {{#if post.allow_comment}}
    <section class="post-comments-area">
        <div class="request-comment">
            发表评论
        </div>
        <div class="post-comments">
            已有评论
        </div>
    </section>
    {{/if}}
</article>
{{/inline}}

{{#*inline "script-block"}}
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
<script>
    hljs.initHighlighting();

    layui.use(['jquery'], function(){
        var $ = layui.jquery;

        var left_side_show = true;
        function toggle_left_side() {
            $('#tata-left-side').toggleClass('layui-show-md-block');
            $('#tata-left-side').toggleClass('layui-show-lg-block');
            left_side_show = !left_side_show;
            if (left_side_show) {
                $('#main-content').removeClass('layui-col-md12');
                $('#main-content').addClass('layui-col-md9');
                $('#toggle-left-side').removeClass('layui-icon-next');
                $('#toggle-left-side').addClass('layui-icon-prev');
            } else {
                $('#main-content').removeClass('layui-col-md9');
                $('#main-content').addClass('layui-col-md12');
                $('#toggle-left-side').removeClass('layui-icon-prev');
                $('#toggle-left-side').addClass('layui-icon-next');
            }
        }

        $('#toggle-left-side').click(function(){
            toggle_left_side();
        });

        var max_move = 3;
        var start = Date.now();
        var speed = 5;
        var toggle = $('#toggle-left-side');
        var wobble = 0;
        function animate(time){
            var step = Math.min(time - start, 100.0) / 1000.0;
            while(step > 0) {
                var this_step = Math.min(step, 0.05);
                wobble += this_step * speed;
                left = Math.sin(wobble) * max_move;
                toggle.css('left',left + 'px');
                step -= this_step;
            }
            start = time;
            window.requestAnimationFrame(animate);
        }

        window.requestAnimationFrame(animate);

        $('#like-btn').click(function(){
            // 发送请求
        });

        
    });
</script>
{{/inline}}

{{~> base ~}}