{{#*inline "header-block"}}
<style>  
    .post-list-item {
        border-top: 1px dashed #ddd;
    }

    {{!-- .layui-card-header{
        border-bottom: 1px solid #ddd;
    } --}}

    .post-info{
        display: inline-block;
        vertical-align: middle;
    }

    .post-title a{
        display: inline-block;
        width: 100%;
        margin: 15px 0 3px 0;
        color: #585356;
        font-weight: 500;
        font-family: Lato,"Microsoft YaHei",sans-serif;
    }

    .post-title a:hover{
        color: cadetblue;
        transition: color 0.3s ease;
    }

    .post-thumb {
        width: 180px;
        display: inline-block;
        vertical-align: middle;
    }

    .post-meta a{
        display: inline-block;
        background-color: #acc4ac;
        border-radius: 5px;
        padding: 3px 3px;
        font-size: .7rem;
        line-height: .7rem;
        color: #ececec;
    }

    .post-meta span{
        font-size: .7rem;
        color: #999;
        line-height: .7rem;
    }

    .post-meta a:hover{
        color: white;
        background-color: #009688;
        transition: all .5s ease;
    }

    .post-summary{
        padding: 5px 0;
    }

    #pagination{
        text-align: center;
    }

</style>
{{/inline}}

{{#*inline "title"}}
{{ viewbag.title }}
{{/inline}}

{{#*inline "content"}}

<div class="layui-card">
    <div class="layui-card-header">{{ viewbag.list_title }}</div>
    <div class="layui-card-body">
        {{#each post_list_info.page_items}}
        <div class="post-list-item">
            {{#if (not_empty_str thumbnail) }}
            <div class="post-thumb">
                <a href="/posts/post/{{url}}">
    	            <img style="width: 160px;max-height: 100%;" src="{{thumbnail}}" alt="图片呢？(｡•ˇ‸ˇ•｡)">
                </a>
            </div>
            {{/if}}
            <div class="post-info">
                <h2 class="post-title">
                    <a href="/posts/post/{{url}}">{{ title }}</a>
                </h2>
                
                <div class="post-meta">
                    <span>{{ create_time }} /</span>
                    <span>阅读 {{ reads }}</span> 
                    <br>
                    {{#each tags}}
                    <a href="/posts/tag/{{name}}">{{ display_text }}</a>
                    {{/each}}
                </div>
                <p class="post-summary">{{ summary }}</p>
            </div>
        </div>
        {{/each}}
    </div>
    <div id="pagination"></div>
</div>
{{/inline}}

{{#*inline "script-block"}}
<script>
    layui.use('laypage', function(){
        var laypage = layui.laypage;
        
        laypage.render({
            elem: 'pagination',
            theme: '#acc4ac',
            count: {{ post_list_info.total_num }},
            limit: {{ post_list_info.per_page }},
            curr: {{ post_list_info.curr_page }}
        });
    });
</script>
{{/inline}}

{{~> base ~}}